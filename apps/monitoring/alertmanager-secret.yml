apiVersion: v1
kind: Secret
metadata:
  name: alertmanager-secret
  namespace: monitoring
type: Opaque
stringData:
  alertmanager.yaml: |
    global:
      resolve_timeout: 7m
    route:
      group_by: ["alertname", "namespace"]
      group_interval: 10m
      group_wait: 1m
      receiver: "null"
      repeat_interval: 12h
      routes:
        - receiver: "null"
          matchers:
            - alertname =~ "InfoInhibitor"
            - alertname =~ "Watchdog"
        - receiver: "null"
          continue: true
          matchers:
            - severity = "critical"
    inhibit_rules:
      - equal: ["alertname", "namespace"]
        source_matchers:
          - severity = "critical"
        target_matchers:
          - severity = "warning"
    receivers:
      - name: "null"
